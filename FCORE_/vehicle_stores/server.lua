RegisterServerEvent("carshop:buy")
AddEventHandler("carshop:buy",function(title,car,data)
    local sourcePlayer = tonumber(source)
    local vt = nil
    for i = 1, #cars do
        if cars[i].title == title then
            vt = cars[i].vehicles
            break
        end
    end
    if vt ~= nil then
        local correctprice = nil
        for i = 1, #vt do
            if vt[i].name == car.name then
                correctprice = vt[i].price
                break
            end
        end
        if correctprice ~= nil then
            if car.price == correctprice then
                TriggerEvent('f:getPlayer', source, function(user)
                    if (tonumber(user.getMoney()) >= tonumber(car.price)) then
                        user.addCar(data)
                        user.removeMoney(correctprice)
                        TriggerClientEvent("carshop:bought", sourcePlayer, data)
                    else
                        TriggerClientEvent("pNotify:SendNotification", sourcePlayer, {text = "Insufficient funds!",type = "error",queue = "left",timeout = 2500,layout = "bottomCenter"})
                    end
                end)
            else
                BanCheater("[ANTI-CHEAT] Cheatengine usage (Modifying Values)",sourcePlayer)
            end
        else
            TriggerEvent("f:log", "errors", "[ERROR - VEHICLESHOP]::Vehicle price is NIL!")
            print("Vehicle price is nil...")
        end
    else
        TriggerEvent("f:log", "errors", "[ERROR - VEHICLESHOP]::Vehicle table is NIL!")
        print("Vehicle table is nil...")
    end
end)

cars = {
    {title = "Asian Cars", vehicles = {
        {name="2007 Toyota Camry V6", price=40000},
        {name="2017 Honda Accord V6", price=50000},
        {name="2017 Subaru BRZ t-S", price=125000},
        {name="2014 Lexus LX570", price=150000},
        {name="2015 Lexus GS350F", price=200000},
        {name="2002 Honda NSX", price=225000},
        {name="2015 Mitsubishi Evo X", price=225000},
        {name="2006 Mitsubishi Evo IX", price=240000},
        --{name="2004 Subaru WRX STi", price=250000},
        {name="2006 Subaru WRX STi", price=265000},
        {name="2004 Nissan GT-R R34", price=270000},
        {name="1998 Toyota Supra", price=350000},
        {name="2015 Nissan GTR R35", price=750000},
    }},
    {title = "European Cars", vehicles = {
        {name="1986 MB 560SEL", price=50000},
        {name="1995 BMW M3 E36T", price=80000},
        {name="1995 BMW M5 E34", price=80000},
        {name="1990 MB 600SEL", price=85000},
        {name="1999 BMW 750iL E38", price=89000},
        {name="2016 VW Golf GTI", price=90000},
        {name="2006 VW Beetle Turbo", price=90000},
        {name="2016 Mini CooperWorks", price=90000},
        {name="2001 Audi S4", price=92000},
        {name="2002 MB C32 AMG", price=92000},
        {name="2003 BMW M5 E39", price=92000},
        {name="2012 Range Rover SC", price=100000},
        {name="2013 Audi RS4 Avant", price=120000},
    }},
    {title = "European Cars 2", vehicles = {    
        {name="15 Range Rover Vouge", price=130000},
        {name="2012 Audi Q7 V12", price=160000},
        {name="1982 Porsche 911 Turbo", price=175000},
        {name="2009 Audi RS6 Avant", price=200000},
        {name="2013 Audi S8 FSI", price=225000},
        {name="2012 MB C63 AMG", price=245000},
        {name="1960 AustinHealey", price=250000},
        {name="2016 Maserati GhibliS", price=275000},
        {name="13 AM Vanquish", price=350000},
        {name="16 Porsche 911 TurboS", price=850000},
        {name="2013 Lambo LP570-4", price=1500000},
        {name="16 Audi R8 V10", price=2000000},
        {name="2015 Ferrari 488GTB", price=2350000},
        {name="2010 Lambo LP650-4", price=2500000},
    }},
    {title = "American Cars", vehicles = {
        {name="1991 Lincoln TownCar", price=25000},
        {name="2003 Ford CrownVic LX", price=50000},
        {name="2003 GMC Yukon XL", price=75000},
        {name="12 Chevy Silverado LTZ", price=85000},
        {name="2013 Ford Explorer V6", price=100000},
        {name="1968 Ford Mustang FB", price=100000},
        {name="1969 Chevy Camaro SS", price=110000},
        {name="1970 Dodge Challenger", price=110000},
        {name="1970 Plymouth HemiCuda", price=110000},
        {name="1970 Chevy Chevelle SS", price=110000},
        {name="1967 Ford GT500", price=115000},
        {name="69 Ford MustangBOSS302", price=120000},
    }},
    {title = "American Cars 2", vehicles = {
        {name="Jeep TrailCat", price=125000},
        {name="1954 Ford Thunderbird", price=135000},
        {name="70 Dodge ChargerMagnum", price=150000},
        {name="2014 Cadillac Escalade", price=150000},
        {name="66 Shelby Cobra 427 SC", price=175000},
        {name="15 Chrysler 300CSRT8", price=200000},
        {name="16 Dodge Charger RT", price=225000},
        {name="16 Ford Focus RS", price=235000},        
        {name="2015 Jaguar F-Type", price=240000},
        {name="2013 Ford F150 Raptor", price=250000},
        {name="2016 Ford Mustang GT", price=255000},
        {name="2015 Corvette C7-Z06", price=295000},
        {name="15 Challenger Hellcat", price=1250000},
    }},
    {title = "GTA DLC", vehicles = {
        {name="Coquette3", price=115000},
        {name="Feltzer3", price=155000},
        {name="Guardian", price=180000},
        {name="Contender", price=185000},
        {name="TrophyTruck2", price=185000},
        {name="Lurcher", price=190000},
        {name="Btype", price=225000},
        {name="Slamvan", price=225000},
        {name="Slamvan2", price=225000},
        {name="Slamvan3", price=225000},
        {name="Minivan2", price=235000},
        {name="Sabre GT2", price=245000},
        {name="Tornado5", price=245000},
        {name="Virgo2", price=245000},
        {name="Comet3", price=290000},
        {name="Torero", price=295000},
        {name="Osiris", price=600000},
        {name="Elegy1", price=650000},
        {name="SultanRS", price=685000},
        {name="Specter", price=750000},
        {name="Tempesta", price=820000},
        {name="ItaliGTB2", price=1000000},
        {name="Cheetah2", price=1300000},
        {name="XA21", price=1500000},
        {name="Nero", price=2000000},
    }},
    {title = "GTA Compacts", vehicles = {
        {name="Blista", price=15000},
        {name="Brioso R/A", price=15500},
        {name="Dilettante", price=20000},
        {name="Issi", price=20000},
        {name="Panto", price=25000},
        {name="Prairie", price=25000},
        {name="Rhapsody", price=25000},
    }},
    {title = "GTA Coupes", vehicles = {
        {name="Cognoscenti Cabrio", price=125000},
        {name="Exemplar", price=125000},
        {name="F620", price=130000},
        {name="Felon", price=130000},
        {name="Felon GT", price=135000},
        {name="Jackal", price=105000},
        {name="Oracle", price=110000},
        {name="Oracle XS", price=115000},
        {name="Sentinel", price=110000},
        {name="Sentinel XS", price=115000},
        {name="Windsor", price=135000},
        {name="Windsor Drop", price=145000},
        {name="Zion", price=110000},
        {name="Zion Cabrio", price=125000},
    }},
    {title = "GTA Sports", vehicles = {
        {name="9F", price=120000},
        {name="9F Cabrio", price=130000},
        {name="Alpha", price=120000},
        {name="Banshee", price=130000},
        {name="Bestia GTS", price=135000},
        {name="Buffalo", price=95000},
        {name="Buffalo2", price=99000},
        {name="Carbonizzare", price=135000},
        {name="Comet", price=145000},
        {name="Coquette", price=150000},
        {name="Feltzer", price=150000},
        {name="TrophyTruck", price=185000},
        {name="Furore GT", price=185000},
        {name="Fusilade", price=175000},
        {name="Jester", price=185000},
        {name="Jester Race", price=200000},
        {name="Lynx", price=200000},
        {name="Massacro", price=205000},
        {name="Massacro Race", price=225000},
        {name="Omnis", price=245000},
        {name="Penumbra", price=215000},
        {name="Drift Tampa", price=265000},
        {name="Rapid GT", price=290000},
        {name="Rapid GT Convertible", price=295000},
        {name="Schafter V12", price=300000},
        {name="Sultan", price=200000},
        {name="Surano", price=190000},
        {name="Tropos", price=195000},
        {name="Verkierer", price=220000},
        {name="Kuruma", price=300000},
    }},
    {title = "GTA Sports Classics", vehicles = {
        {name="Casco", price=145000},
        {name="Coquette Classic", price=155000},
        {name="JB 700", price=160000},
        {name="Pigalle", price=150000},
        {name="Stinger", price=145000},
        {name="Stinger GT", price=165000},
        {name="Stirling GT", price=140000},
        {name="Ztype", price=195000},
    }},
    {title = "GTA Super", vehicles = {
        {name="Adder", price=320000},
        {name="Banshee 900R", price=290000},
        {name="Bullet", price=290000},
        {name="Cheetah", price=320000},
        {name="Entity XF", price=335000},
        {name="ETR1", price=295000},
        {name="FMJ", price=289000},
        {name="Infernus", price=325000},
        {name="Osiris", price=350000},
        {name="RE-7B", price=360000},
        {name="Reaper", price=350000},
        {name="T20", price=365000},
        {name="Turismo R", price=385000},
        {name="Tyrus", price=275000},
        {name="Vacca", price=285000},
        {name="Voltic", price=310000},
        {name="X80 Proto", price=410000},
        {name="Zentorno", price=450000},
    }},
    {title = "GTA Muscle", vehicles = {
        {name="Blade", price=18000},
        {name="Buccaneer", price=19000},
        {name="Chino", price=20000},
        {name="Coquette BlackFin", price=90000},
        {name="Dominator", price=95000},
        {name="Dukes", price=95000},
        {name="Gauntlet", price=89000},
        {name="Hotknife", price=105000},
        {name="Faction", price=100000},
        {name="Nightshade", price=120000},
        {name="Picador", price=120000},
        {name="Sabre Turbo", price=85000},
        {name="Tampa", price=85000},
        {name="Virgo", price=105000},
        {name="Vigero", price=110000},
    }},
    {title = "GTA Offroad", vehicles = {
        {name="Bifta", price=28000},
        {name="Blazer", price=29000},
        {name="Brawler", price=25000},
        {name="Sadler", price=39000},
        {name="Dubsta 6x6", price=90000},
        {name="Rebel", price=75000},
        {name="Sandking", price=95000},
        {name="Sandking XL", price=125000},
        {name="Trophy Truck", price=145000},
    }}, 
    {title = "GTA SUV", vehicles = {
        {name="Baller", price=38000},
        {name="Cavalcade", price=40000},
        {name="Grabger", price=45000},
        {name="Huntley S", price=48000},
        {name="Landstalker", price=55000},
        {name="Radius", price=65000},
        {name="Rocoto", price=75000},
        {name="Seminole", price=85000},
        {name="XLS", price=100000},
    }}, 
    {title = "GTA Vans", vehicles = {
        {name="Bison", price=28000},
        {name="Bobcat XL", price=30000},
        {name="Gang Burrito", price=35000},
        {name="Journey", price=15000},
        {name="Minivan", price=35000},
        {name="Paradise", price=45000},
        {name="Rumpo", price=35000},
        {name="Surfer", price=42000},
        {name="Youga", price=38000},
    }},
    {title = "GTA Sedans", vehicles = {
        {name="Asea", price=18000},
        {name="Fugitive", price=29000},
        {name="Asterope", price=34300},
        {name="Glendale", price=40000},
        {name="Ingot", price=35000},
        {name="Intruder", price=42000},
        {name="Premier", price=39000},
        {name="Primo", price=25000},
        {name="Primo Custom", price=30000},
        {name="Schafter", price=65000},
        {name="Tailgater", price=62000},
        {name="Warrener", price=85000},
        {name="Washington", price=95000},
        {name="Surge", price=99000},
        {name="Super Diamond", price=125000},
        {name="Stretch", price=150000},
    }},
    {title = "Motorcycles", vehicles = {
        {name="ATV", price=3900},
        {name="Faggio", price=3900},
        {name="Sanchez", price=4500},
        {name="Enduro", price=6000},
        {name="Akuma", price=9900},
        {name="Bagger", price=11500},
        {name="Bati 801", price=12500},
        {name="Bati 801RR", price=14000},
        {name="BF400", price=25000},
        {name="Carbon RS", price=35000},
        {name="Cliffhanger", price=38000},
        {name="Daemon", price=40000},
        {name="Double T", price=40000},
        {name="Gargoyle", price=42000},
        {name="Hakuchou", price=45000},
        {name="Hexer", price=45000},
        {name="Harley Fatboy", price=49000},
        {name="Innovation", price=50000},
        {name="Lectro", price=60000},
        {name="Nemesis", price=45000},
        {name="PCJ-600", price=46000},
        {name="Ruffian", price=50000},
        {name="Harley KnuckleHead", price=60000},
        {name="Vindicator", price=65000},
        {name="Diablous", price=75000},
        {name="Street ATV", price=85000},
    }},
}